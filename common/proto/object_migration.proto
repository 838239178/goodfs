syntax = "proto3";

package proto;

option go_package="../pb";

import "message.proto";

message ObjectData {
  string fileName = 1;
  bytes data = 2;
}

message RequiredInfo {
  int64 averageCap = 1;
  string targetAddress = 2;
}

service ObjectMigration {
  rpc ReceiveObject(stream ObjectData) returns (Response);
  rpc RequireSend(RequiredInfo) returns (Response);
  rpc LeaveCommand(EmptyReq) returns (Response);
  rpc JoinCommand(EmptyReq) returns (Response);
}